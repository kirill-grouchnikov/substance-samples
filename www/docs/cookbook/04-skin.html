<html>
<head>
<title>Substance Samples - Cookbook skin</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<h1>Implementing the skin</h1>

<h3>Anatomy of a skin</h3>

<p>While the concepts of decoration areas and decoration painters 
	introduced in the <a href="02-mapping.html">second phase</a>
	and implemented in the <a href="03-decoration.html">third phase</a>
	are one of the most powerful features in Substance, they are part
	of the more comprehensive package of settings designed to facilitate
	creation of consistent and configurable visuals for modern graphical user
interfaces. In Substance terminology it is called <strong>a skin</strong>.</p>
	
<p>The <a href="https://substance.dev.java.net/docs/skins/overview.html">skin 
	definition</a> in Substance consists of the following:</p>

<ul>
  <li>Decoration areas and color scheme bundles:</li>
  <ul>
		<li>List of supported decoration areas.</li>
		<li><a href="https://substance.dev.java.net/docs/skins/colorschemebundles.html">Color scheme bundles</a>
		 for the supported decoration areas.</li>
		<li>Optional background <a href="https://substance.dev.java.net/docs/skins/colorschemes.html">color schemes</a>

			for the supported decoration areas.</li>
	</ul>
	<li>Watermarking:</li>
	<ul>
		<li>Optional <a href="https://substance.dev.java.net/docs/watermarks.html">watermark</a>.</li>
		<li>Optional watermark <a href="https://substance.dev.java.net/docs/skins/colorschemes.html">color scheme</a>.</li>

	</ul>
	<li>Painters:</li>
	<ul>
		<li><a href="https://substance.dev.java.net/docs/painters/gradient.html">Gradient painter</a>.</li>
		<li><a href="https://substance.dev.java.net/docs/painters/decoration.html">Decoration painter</a>.</li>
		<li><a href="https://substance.dev.java.net/docs/painters/highlight.html">Highlight painter</a>.</li>
		<li><a href="https://substance.dev.java.net/docs/painters/border.html">Border painter</a>.</li>
	</ul>
	<li>Miscellaneous:</li>
	<ul>
		<li>Button shaper.</li>
		<li>Optional list of decoration area types that have drop shadow borders
		on the top pixels.</li>
		<li>Optional values for start and end values of selected tab fade.</li>
  </ul>
</ul>
  
<p>This phase of Cookbook UI implementation will focus on creating the 
	other parts of the skin, including color schemes, color scheme
bundles, the gradient painter and the border painter.</p>

<h3>Color schemes</h3>

<p>A <a href="https://substance.dev.java.net/docs/skins/colorschemes.html">color scheme</a>
is a set of information that allows painting a control in a specific visual state. 
In general, a color scheme defines a collection of colors that are used by the various 
Substance painters to paint different control areas (such as background fill, border etc) 
under a specific visual state.</p>

<p>The color schemes were implicitly used in the 
	<a href="03-decoration.html">previous phase</a> to drive the
	colorization of the decoration area textures. At the most basic level
	a color scheme can be thought of as a palette that provides colors to
	the different painters. Each color scheme defines seven basic colors, six for background
	and one for foreground. In addition, a color scheme exposes derived colors
	that are used for painting watermarks, text selections, focus rings and more.
	The derived colors are usually implemented as a combination of one or more
basic colors and can be overriden by the custom skin.</p>

<p>The main two color schemes for Cookbook UI are
	<strong>Golden Brown</strong> and <strong>Dark Brown</strong>. 
Here are their background palettes:</p>

<img src="../../images/cookbook/04-skin/goldenbrown.png" width=180 height=30 border=1>
<img src="../../images/cookbook/04-skin/darkbrown.png" width=180 height=30 border=1>

<p>At the present moment Substance does not provide a visual tool
	to create a color scheme from an image palette. These two color
	schemes were created manually using the simple image editor and 
color pick tool.</p>

<p>Looking at the Cookbook UI design we can see that <strong>Golden Brown</strong>
color scheme is used for:</p>

<ul>
	<li>Background fill and texture of header and footer areas.</li>
	<li>Background fill of default buttons in header and footer areas.</li>
	<li>Highlights on the selected elements in sidebar area.</li>
	<li>Scroll bar in sidebar area.</li>
</ul>

<p>The <strong>Dark Brown</strong> color scheme is used for:</p>

<ul>
	<li>Background fill and texture of sidebar area.</li>
	<li>Selected buttons in header and footer area.</li>
	<li>Slider track in header area.</li>
</ul>

<p>The definition of color scheme bundles in the custom Substance skin
	will use these two color schemes as the main building blocks. 
<strong>Dark Brown</strong> will be used for:</p>
	
<ul>
	<li><code><font color="darkblue">GENERAL</font></code> area, 
		controls in default and disabled state. Disabled controls
	will be painted with 70% opacity.</li>
	<li><code><font color="darkblue">PRIMARY_TITLE_PANE</font></code>,
		<code><font color="darkblue">TOOLBAR</font></code> and
		<code><font color="darkblue">FOOTER</font></code> areas,
		controls in active states. This will make the selected 
	button in the toolbar painted with dark background.</li>
</ul>

<p><string>Golden Brown</strong> will be used for:</p>

<ul>
	<li><code><font color="darkblue">GENERAL</font></code> area, 
		controls in active state. This will paint the sidebar scroll bar
		since the enabled scroll bars are painted in active state
		(this is true for all Substance skins).</li>
	<li><code><font color="darkblue">PRIMARY_TITLE_PANE</font></code>,
		<code><font color="darkblue">TOOLBAR</font></code> and
		<code><font color="darkblue">FOOTER</font></code> areas,
		controls in default and disabled state. Disabled controls
	will be painted with 70% opacity.</li>
</ul>

<p>For the comparison, here is a part of Cookbook UI:</p>

<img src="../../images/cookbook/original-zoom.png" width=500 height=633>

<p>And here is its implementation with a custom Substance skin:</p>

<img src="../../images/cookbook/substance-zoom.png" width=500 height=613>

<p>Note the correct color schemes for the relevant decoration areas, including
	the background, textures, buttons, scroll bar and slider. The only discrepancy
	comes from the slider track - by design Substance uses the same default 
	(<strong>Golden Brown</strong>) color scheme to paint its track unless the mouse
is over the slider.</p>

<p>In addition to the two color schemes above, we define three color schemes
	to be used on <code><font color="darkblue">NONE</font></code> area type. In case of
	Cookbook UI these schemes are only relevant for the search text field in the second
	footer panel (marked as <code><font color="darkblue">NONE</font></code> to
	create the custom visuals). Since every Substance skin must define a color
	scheme bundle for the <code><font color="darkblue">NONE</font></code> area type,
	this is a step that you can not omit. Here are the palettes for the active,
default and disabled color schemes of <code><font color="darkblue">NONE</font></code>:</p>

<img src="../../images/cookbook/04-skin/active.png" width=180 height=30 border=1>
<img src="../../images/cookbook/04-skin/default.png" width=180 height=30 border=1>
<img src="../../images/cookbook/04-skin/disabled.png" width=180 height=30 border=1>

<h3>Gradient and border painters</h3>

<p>Here is a zoomed version of footer buttons in Cookbook UI:</p>

<img src="../../images/cookbook/04-skin/zoom-buttons-cookbook.png" width=391 height=110>

<p>Analyzing the visuals, we can see:</p>

<ul>
	<li>The gradient fill goes from light at the top to dark at the middle
	with no brightness inflection.</li>
	<li>The gradient is overlayed with the continuous texture of the 
	relevant region.</li>
	<li>The outer border is a gradient that goes from dark at the
	top to very dark at the bottom.</li>
	<li>The inner border is a gradient that goes from very light at the
	top to completely translucent at the bottom.</li>
</ul>

<p>The implementation has a custom 
	<a href="https://substance.dev.java.net/docs/painters/gradient.html">gradient painter</a>
	and a custom 
	<a href="https://substance.dev.java.net/docs/painters/border.html">border painter</a>.
	Base Substance painters provide extension points for computing the relevant stop 
	point colors, handling all the rest of the logic (anti-aliasing, stroke widths, insets,
	scaling gaps, caching etc). All we need to do in our custom painter implementation
	is to emulate the colors of the target design.</p>

<p>Here are the original design and the custom Substance implementation
side-by-side:</p>

<img src="../../images/cookbook/03-decorations/footer-cookbook.png" width=106 height=31>
<img src="../../images/cookbook/03-decorations/footer-substance.png" width=106 height=31>

</body>
</html>
